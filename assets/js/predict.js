var tempData = {
    "status": "success",
    "result": [
        {
            "song_id": "3271011",
            "artist_id": "1088825",
            "title": "French Fries",
            "title_with_featured": "French Fries",
            "full_title": "French Fries by Coma Cose",
            "artist": "Coma Cose",
            "lyrics": "[Strofa: Fausto Lama]\r\n Case di ringhiera dopo che ho cenato\r\n Pollo Tandoori, guardo il vicinato\r\n Dal cortile sale il fumo piano\r\n Cerco l’Africa in giardino sono Celentano\r\n Scendo al bar a prendere le Winston\r\n In sottofondo musica che non capisco\r\n Avete fatto i dischi platini\r\n Ma vi mancano i menischi di Platini\r\n La classe conta, non puoi comprarla\r\n Un chilo di coca costa…Smeralda\r\n In Italia sei un Dio solo se spopoli\r\n Gesù mi chiama e dice: “Oh!, tutto Aposto-li?”\r\n E per fortuna lei mi sa calmare\r\n Andiamo a fare un giro e porta da fumare\r\n Fame chimica da tre di notte maritozzi\r\n D'amore non si muore si ma allora Moana Pozzi?!?\r\n Così ora condividiamo un palco\r\n Le rustichelle, dormire sopra un’auto\r\n Coma_Cose nuovi Prozac+\r\n Ritorniamo a casa scemi come Steve Bu\r\n Che per fortuna si fa ancora festa\r\n Quando la guardo sento l’aria fresca\r\n E ho speso il solo giga che mi resta\r\n Per dedicarle mille volte questa\r\n [Outro: California]\r\n French Fries, patatine\r\n French Fries, patatine\r\n French Fries, patatine\r\n Che poi cosa c’entra la Francia me lo devi dire",
            "media": "[{\"provider\":\"youtube\",\"start\":0,\"type\":\"video\",\"url\":\"http:\\/\\/www.youtube.com\\/watch?v=MzC10nJrSWE\"}]"
        },
        {
            "song_id": "3143986",
            "artist_id": "1164426",
            "title": "French Fries",
            "title_with_featured": "French Fries (Ft. Blundetto)",
            "full_title": "French Fries by Biga*Ranx / Telly* (Ft. Blundetto)",
            "artist": "Biga*Ranx / Telly*",
            "lyrics": "F R E N C H  F R I E S\r\n \r\n Love you my French fries\r\n I never say no no..\r\n Love you my French fries\r\n I never say no no..\r\n \r\n Girl you are my bad rock\r\n You are my cookie\r\n Girl you are my hot ball\r\n You are my candy\r\n \r\n Ooooooouuh\r\n Welcome my troop\r\n Ouuuuuuuuh\r\n Lovely Ice cube\r\n Eh\r\n \r\n Girl you are my rockstar\r\n You are my fat bags\r\n You are my hot cakes\r\n You are my roxanne\r\n \r\n I say you nice like dice\r\n And I want you twice\r\n Lil’ piece of ice\r\n Can I put you in my pipe\r\n I say you nice like dice\r\n And I want you twice\r\n Lil’ piece of dice\r\n Can I put you in my pipe\r\n Ooooooouuh\r\n Welcome my troop\r\n Ouuuuuuuuh\r\n Lovely Ice cube\r\n Eh\r\n \r\n Crunch and munch\r\n Eeew\r\n You my crunch and munch\r\n \r\n Love you like French fries\r\n I never say no no..\r\n Love you like French fries\r\n I never say no no..\r\n \r\n Ooooooouuh\r\n Welcome my troop\r\n Ouuuuuuuuh\r\n Lovely Ice cube\r\n Eh\r\n \r\n Ooooooouuh\r\n Welcome my troop\r\n Ouuuuuuuuh\r\n Lovely Ice cube\r\n Eh",
            "media": "[]"
        },
        {
            "song_id": "3227921",
            "artist_id": "557229",
            "title": "French Fries",
            "title_with_featured": "French Fries",
            "full_title": "French Fries by George Miller",
            "artist": "George Miller",
            "lyrics": "[Verse 1]\r\n I'm addicted to your smile\r\n Wanna keep you, touch your mind\r\n You're the best friend I have ever had\r\n I'm the best friend you will ever have\r\n \r\n [Verse 2]\r\n If you leave me, I won't cry\r\n And I won't even be so kind\r\n You don't have to be so bad\r\n Don't you know that I'm the best?\r\n \r\n [Pre-Chorus]\r\n Sitting there and looking pretty\r\n Trying to make me think I'm shitty\r\n All the crap that you have told me\r\n Do you really think you're worthy?\r\n \r\n Oh, oh, oh...\r\n \r\n [Chorus]\r\n You don't know what you've done to me\r\n You don't know how I really think\r\n We could go, go the other way\r\n We could go, but you're playin'\r\n You don't know what you've done to me\r\n You don't know that I won't miss all this\r\n We could go, go the other way\r\n We could go, we could go\r\n \r\n [Verse 3]\r\n We said we should leave the past\r\n Where it should be - in the past\r\n But you never let me catch my breath\r\n And you always blame me for your crap\r\n \r\n [Verse 4]\r\n Why you actin' like it's me\r\n Who abuses you and him?\r\n Don't you know he doesn't care\r\n As long as he's not with you upstairs?\r\n \r\n [Verse 5]\r\n You think you were right, you're wrong\r\n Disrespect me and you'll fall\r\n I don't care if you will die\r\n I just hope you take your time\r\n \r\n [Pre-Chorus]\r\n Sitting there and looking pretty\r\n Trying to make me think I'm shitty\r\n All the crap that you have told me\r\n Do you really think you're worthy?\r\n Oh, oh, oh...\r\n \r\n [Chorus]\r\n You don't know what you've done to me\r\n You don't know how I really think\r\n We could go, go the other way\r\n We could go, but you're playin'\r\n \r\n You don't know what you've done to me\r\n You don't know that I won't miss all this\r\n We could go, go the other way\r\n We could go, we could go\r\n \r\n [Verse 6]\r\n I remember when we met\r\n We said we should be best friends\r\n Never thought you'd make it end\r\n And make me wanting to come back\r\n \r\n [Pre-Chorus - Variation]\r\n Sitting there and looking pretty\r\n Trying to make me think I'm shitty\r\n All the crap that you have told me\r\n Could've guessed you'd never hold me\r\n \r\n No, no, no...\r\n [Chorus - Variation]\r\n You don't know what you've done to me\r\n You don't know how I really need to be free (from you)\r\n We could go, go the other way\r\n We could go, but you're playin'\r\n \r\n You don't know what you've done to me\r\n You don't know that I won't miss all this\r\n We could go, go the other way\r\n We could go, we could go\r\n \r\n [Outro]\r\n You don't know what you've done to me\r\n You don't know what you've done to him\r\n You don't know, you don't know\r\n \r\n You don't know what you've done to me\r\n You don't know what you've done to him\r\n You don't know, you don't know",
            "media": "[]"
        },
        {
            "song_id": "2006994",
            "artist_id": "46422",
            "title": "Goin' In - Skrillex \"Goin' Down\" Mix",
            "title_with_featured": "Goin' In - Skrillex \"Goin' Down\" Mix",
            "full_title": "Goin' In - Skrillex \"Goin' Down\" Mix by Birdy Nam Nam",
            "artist": "Birdy Nam Nam",
            "lyrics": "Im going wild for the night, fuck being polite\r\n Im going wild for the night, fuck being polite\r\n Im going wild for the night, fuck being polite\r\n Im going wild for the night, fuck being polite\r\n I'm goin in\r\n I'm goin in\r\n Im going wild for the night, fuck being polite\r\n Im going wild for the night, fuck being polite\r\n Im going wild for the night, fuck being polite\r\n Im going wild for the night, fuck being polite",
            "media": "[]"
        }]}
//=====================================================================
// ===== KEYS =========================================================
var myClarifaiApiKey = 'b24eb56b7a5c47ecb9873c2bdb89b9cd';

var app = new Clarifai.App({apiKey: myClarifaiApiKey});

// VARIABLES:
// =======================================================================

// FOOD CATEGORIES
const food = {
    bread: 'hip hop',
    bun: 'rock',
    frenchfries: 'rock',
    vegetables: 'adele'
}


/*
  Purpose: Pass information to other helper functions after a user clicks 'Predict'
  Args:
    value - Actual filename or URL
    source - 'url' or 'file'
    */
function predict_click(value, source) {
  var preview = $(".food-photo");
  var file    = document.querySelector("input[type=file]").files[0];
  var loader  = "https://s3.amazonaws.com/static.mlh.io/icons/loading.svg"; //spinning circle, added visual while waiting
  var reader  = new FileReader();

  // load local file picture -- can remove?
  reader.addEventListener("load", function () {
    preview.attr('style', 'background-image: url("' + reader.result + '");');
    doPredict({ base64: reader.result.split("base64,")[1] }); //base64=pulling in bianary object and keeping intact (image), reader=reads the blob(image)
  }, false);

  if (file) {
    reader.readAsDataURL(file);
    $('#concepts').html('<img src="' + loader + '" class="loading" />');
} else { alert("No file selcted!"); }
}

/*
  Purpose: Does a v2 prediction based on user input
  Args: 
    value - Either {url : urlValue} or { base64 : base64Value }
*/
function doPredict(value) {
app.models.predict(Clarifai.FOOD_MODEL, value).then(function(response) {
    if(response.rawData.outputs[0].data.hasOwnProperty("concepts")) {
        var tag = response.rawData.outputs[0].data.concepts[0].name;  // clariai will determine pic is vegetable
        var url = 'https://api.audd.io/findLyrics/?q='+food[tag.replace(/\s/g,'')] //uncomment! when not using dummy data
        
    console.log(tag); 
    console.log(food[tag.replace(/\s/g,'')])

    //USE WHEN COMMENTING AJAX
    console.log(url)

    
    //USE WHEN COMMENTING OUT - AJAX
    //console.log(tempData)

    // Performing our AJAX GET request
    //TODO uncomment this: because there's a 10 requests/day limit!
    $.ajax({
        url: url,
        method: "GET"
    })
    .then(function(auddResponse) {

        var allResponse = auddResponse.result;
        console.log(allResponse);
        
            for (var i = 0; i < allResponse.length; i++) {
                var tTitleResults = allResponse[i].title;
                var tArtistResults = allResponse[i].artist;

                console.log('titleResults', tTitleResults);
                console.log('artistResults', tArtistResults);

                var newRow = $("<tr>").append(
                    $("<td>").text(tTitleResults), 
                    $("<td>").text(tArtistResults)  
                  );

                  //WORKING  NOT LOOPING
                  console.log(auddResponse.result[0].title);
                  console.log(auddResponse.result[0].artist);
        
                  $("#playlist-table > tbody").append(newRow);

            }

        // Store everything into a variable.
        //var titleResult = auddResponse.result[0].title;
        //var artistResult = auddResponse.result[0].artist;

        

        //================ COMMENT OUT WHEN USING MOCK DATA / COMMENT IN WHEN USING AJAX REQUEST ==============
        //console.log('auddResponse', auddResponse);
    }).catch(function(error){
        console.log(error);
    }
    )

                    //console.log($('#concepts'));


//dont need because we ware not getting nutritional info
        // getNutritionalInfo(url, function (result) {
        // $('#concepts').html('<h3>'+ tag + '</h3>' + "<img src='"+result+"'>");
        // });

//PUT STATEMENT TO COMPARE 'TAG' to food group



    }
    }, function(err) { console.log(err); }
);
}
